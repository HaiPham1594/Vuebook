{"remainingRequest":"/Users/hai/Desktop/VueJS/vue-app/node_modules/babel-loader/lib/index.js!/Users/hai/Desktop/VueJS/vue-app/node_modules/eslint-loader/index.js??ref--13-0!/Users/hai/Desktop/VueJS/vue-app/src/store/index.js","dependencies":[{"path":"/Users/hai/Desktop/VueJS/vue-app/src/store/index.js","mtime":1605346328870},{"path":"/Users/hai/Desktop/VueJS/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hai/Desktop/VueJS/vue-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hai/Desktop/VueJS/vue-app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9oYWkvRGVza3RvcC9WdWVKUy92dWUtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXIvaW5kZXgnOwppbXBvcnQgKiBhcyBmYiBmcm9tICcuLi9maXJlYmFzZSc7ClZ1ZS51c2UoVnVleCk7IC8vIHJlYWx0aW1lIGZpcmViYXNlCgpmYi5wb3N0c0NvbGxlY3Rpb24ub3JkZXJCeSgnY3JlYXRlZE9uJywgJ2Rlc2MnKS5vblNuYXBzaG90KGZ1bmN0aW9uIChzbmFwc2hvdCkgewogIHZhciBwb3N0c0FycmF5ID0gW107CiAgc25hcHNob3QuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7CiAgICB2YXIgcG9zdCA9IGRvYy5kYXRhKCk7CiAgICBwb3N0LmlkID0gZG9jLmlkOwogICAgcG9zdHNBcnJheS5wdXNoKHBvc3QpOwogIH0pOwogIHN0b3JlLmNvbW1pdCgnc2V0UG9zdHMnLCBwb3N0c0FycmF5KTsKfSk7CnZhciBzdG9yZSA9IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgdXNlclByb2ZpbGU6IHt9LAogICAgcG9zdHM6IFtdCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldFVzZXJQcm9maWxlOiBmdW5jdGlvbiBzZXRVc2VyUHJvZmlsZShzdGF0ZSwgdmFsKSB7CiAgICAgIHN0YXRlLnVzZXJQcm9maWxlID0gdmFsOwogICAgfSwKICAgIHNldFBvc3RzOiBmdW5jdGlvbiBzZXRQb3N0cyhzdGF0ZSwgdmFsKSB7CiAgICAgIHN0YXRlLnBvc3RzID0gdmFsOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIGZvcm0pIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZGlzcGF0Y2gsIF95aWVsZCRmYiRhdXRoJHNpZ25JbiwgdXNlcjsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZmIuYXV0aC5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChmb3JtLmVtYWlsLCBmb3JtLnBhc3N3b3JkKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3lpZWxkJGZiJGF1dGgkc2lnbkluID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHVzZXIgPSBfeWllbGQkZmIkYXV0aCRzaWduSW4udXNlcjsKICAgICAgICAgICAgICAgIC8vIGZldGNoIHVzZXIgcHJvZmlsZSBhbmQgc2V0IGluIHN0YXRlCiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnZmV0Y2hVc2VyUHJvZmlsZScsIHVzZXIpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2lnbnVwOiBmdW5jdGlvbiBzaWdudXAoX3JlZjIsIGZvcm0pIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGRpc3BhdGNoLCBfeWllbGQkZmIkYXV0aCRjcmVhdGUsIHVzZXI7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBkaXNwYXRjaCA9IF9yZWYyLmRpc3BhdGNoOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGZiLmF1dGguY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkKGZvcm0uZW1haWwsIGZvcm0ucGFzc3dvcmQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfeWllbGQkZmIkYXV0aCRjcmVhdGUgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHVzZXIgPSBfeWllbGQkZmIkYXV0aCRjcmVhdGUudXNlcjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBmYi51c2Vyc0NvbGxlY3Rpb24uZG9jKHVzZXIudWlkKS5zZXQoewogICAgICAgICAgICAgICAgICBuYW1lOiBmb3JtLm5hbWUsCiAgICAgICAgICAgICAgICAgIHRpdGxlOiBmb3JtLnRpdGxlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgLy8gZmV0Y2ggdXNlciBwcm9maWxlIGFuZCBzZXQgaW4gc3RhdGUKICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdmZXRjaFVzZXJQcm9maWxlJywgdXNlcik7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZldGNoVXNlclByb2ZpbGU6IGZ1bmN0aW9uIGZldGNoVXNlclByb2ZpbGUoX3JlZjMsIHVzZXIpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgdXNlclByb2ZpbGU7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBmYi51c2Vyc0NvbGxlY3Rpb24uZG9jKHVzZXIudWlkKS5nZXQoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgdXNlclByb2ZpbGUgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIC8vIHNldCB1c2VyIHByb2ZpbGUgaW4gc3RhdGUKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0VXNlclByb2ZpbGUnLCB1c2VyUHJvZmlsZS5kYXRhKCkpOyAvLyBjaGFuZ2Ugcm91dGUgdG8gZGFzaGJvYXJkCgogICAgICAgICAgICAgICAgaWYgKHJvdXRlci5jdXJyZW50Um91dGUucGF0aCA9PT0gJy9sb2dpbicpIHsKICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goJy8nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjQpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIGNvbW1pdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGZiLmF1dGguc2lnbk91dCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICAvLyBjbGVhciB1c2VyUHJvZmlsZSBhbmQgcmVkaXJlY3QgdG8gL2xvZ2luCiAgICAgICAgICAgICAgICBjb21taXQoJ3VzZXJQcm9maWxlJywge30pOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjcmVhdGVQb3N0OiBmdW5jdGlvbiBjcmVhdGVQb3N0KF9yZWY1LCBwb3N0KSB7CiAgICAgIHZhciBzdGF0ZSA9IF9yZWY1LnN0YXRlLAogICAgICAgICAgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogICAgICBmYi5wb3N0c0NvbGxlY3Rpb24uYWRkKHsKICAgICAgICBjcmVhdGVkT246IG5ldyBEYXRlKCksCiAgICAgICAgY29udGVudDogcG9zdC5jb250ZW50LAogICAgICAgIHVzZXJJZDogZmIuYXV0aC5jdXJyZW50VXNlci51aWQsCiAgICAgICAgdXNlck5hbWU6IHN0YXRlLnVzZXJQcm9maWxlLm5hbWUsCiAgICAgICAgY29tbWVudHM6IDAsCiAgICAgICAgbGlrZXM6IDAKICAgICAgfSk7CiAgICB9LAogICAgbGlrZVBvc3Q6IGZ1bmN0aW9uIGxpa2VQb3N0KF9yZWY2LCBwb3N0KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBjb21taXQsIHVzZXJJZCwgZG9jSWQsIGRvYzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjYuY29tbWl0OwogICAgICAgICAgICAgICAgdXNlcklkID0gZmIuYXV0aC5jdXJyZW50VXNlci51aWQ7CiAgICAgICAgICAgICAgICBkb2NJZCA9ICIiLmNvbmNhdCh1c2VySWQsICJfIikuY29uY2F0KHBvc3QuaWQpOyAvLyBjaGVjayBpZiB1c2VyIGhhcyBsaWtlZCBwb3N0CgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGZiLmxpa2VzQ29sbGVjdGlvbi5kb2MoZG9jSWQpLmdldCgpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBkb2MgPSBfY29udGV4dDUuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIWRvYy5leGlzdHMpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gZmIubGlrZXNDb2xsZWN0aW9uLmRvYyhkb2NJZCkuc2V0KHsKICAgICAgICAgICAgICAgICAgcG9zdElkOiBwb3N0LmlkLAogICAgICAgICAgICAgICAgICB1c2VySWQ6IHVzZXJJZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgcG9zdCBsaWtlcyBjb3VudAogICAgICAgICAgICAgICAgZmIucG9zdHNDb2xsZWN0aW9uLmRvYyhwb3N0LmlkKS51cGRhdGUoewogICAgICAgICAgICAgICAgICBsaWtlczogcG9zdC5saWtlc0NvdW50ICsgMQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG1vZHVsZXM6IHt9Cn0pOwpleHBvcnQgZGVmYXVsdCBzdG9yZTs="},{"version":3,"sources":["/Users/hai/Desktop/VueJS/vue-app/src/store/index.js"],"names":["Vue","Vuex","router","fb","use","postsCollection","orderBy","onSnapshot","snapshot","postsArray","forEach","doc","post","data","id","push","store","commit","Store","state","userProfile","posts","mutations","setUserProfile","val","setPosts","actions","login","form","dispatch","auth","signInWithEmailAndPassword","email","password","user","signup","createUserWithEmailAndPassword","usersCollection","uid","set","name","title","fetchUserProfile","get","currentRoute","path","logout","signOut","createPost","add","createdOn","Date","content","userId","currentUser","userName","comments","likes","likePost","docId","likesCollection","exists","postId","update","likesCount","modules"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport router from '../router/index'\nimport * as fb from '../firebase'\n\nVue.use(Vuex)\n\n// realtime firebase\nfb.postsCollection.orderBy('createdOn', 'desc').onSnapshot(snapshot => {\n  const postsArray = []\n\n  snapshot.forEach(doc => {\n    const post = doc.data()\n    post.id = doc.id\n\n    postsArray.push(post)\n  })\n\n  store.commit('setPosts', postsArray)\n})\n\nconst store = new Vuex.Store({\n  state: {\n    userProfile: {},\n    posts: []\n  },\n  mutations: {\n    setUserProfile (state, val) {\n      state.userProfile = val\n    },\n    setPosts (state, val) {\n      state.posts = val\n    }\n  },\n  actions: {\n    async login ({ dispatch }, form) {\n      // sign user in\n      const { user } = await fb.auth.signInWithEmailAndPassword(form.email, form.password)\n\n      // fetch user profile and set in state\n      dispatch('fetchUserProfile', user)\n    },\n    async signup ({ dispatch }, form) {\n      // sign user up\n      const { user } = await fb.auth.createUserWithEmailAndPassword(form.email, form.password)\n\n      // create user profile object in userCollections\n      await fb.usersCollection.doc(user.uid).set({\n        name: form.name,\n        title: form.title\n      })\n\n      // fetch user profile and set in state\n      dispatch('fetchUserProfile', user)\n    },\n    async fetchUserProfile ({ commit }, user) {\n      // fetch user profile\n      const userProfile = await fb.usersCollection.doc(user.uid).get()\n\n      // set user profile in state\n      commit('setUserProfile', userProfile.data())\n\n      // change route to dashboard\n      if (router.currentRoute.path === '/login') {\n        router.push('/')\n      }\n    },\n    async logout ({ commit }) {\n      await fb.auth.signOut()\n\n      // clear userProfile and redirect to /login\n      commit('userProfile', {})\n      router.push('/login')\n    },\n    createPost ({ state, commit }, post) {\n      fb.postsCollection.add({\n        createdOn: new Date(),\n        content: post.content,\n        userId: fb.auth.currentUser.uid,\n        userName: state.userProfile.name,\n        comments: 0,\n        likes: 0\n      })\n    },\n    async likePost ({ commit }, post) {\n      const userId = fb.auth.currentUser.uid\n      const docId = `${userId}_${post.id}`\n\n      // check if user has liked post\n      const doc = await fb.likesCollection.doc(docId).get()\n      if (doc.exists) { return }\n\n      // create post\n      await fb.likesCollection.doc(docId).set({\n        postId: post.id,\n        userId: userId\n      })\n\n      // update post likes count\n      fb.postsCollection.doc(post.id).update({\n        likes: post.likesCount + 1\n      })\n    }\n  },\n  modules: {\n  }\n})\n\nexport default store\n"]}]}